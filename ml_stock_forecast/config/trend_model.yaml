# 趋势状态模型配置

# 趋势模型配置
trend_model:
  # 是否启用趋势模型
  enabled: true
  
  # 模型类型：rule（规则） / lgbm（LightGBM） / hmm（HMM）
  model_type: rule
  
  # 是否使用20个特征（rule模式下为false）
  use_all_features: false
  
  # 数据源配置
  data_sources:
    # 指数代码
    index_code: "000300.SH"  # 沪深300指数
    
    # 是否使用新浪市场宽度数据
    enable_market_breadth: false
    sina_api_key: null  # 需要申请
    
    # 是否使用Tushare数据
    enable_tushare: false
    tushare_token: "2bcc0e9feb650d9862330a9743e5cc2e6469433c4d1ea0ce2d79371e"
    
    # 是否使用中证指数官网数据
    enable_csindex: false

# 基础指标配置（8个）
basic_features:
  # 收益指标
  ret_4w: true
  ret_12w: true
  
  # 波动率指标
  vol_4w: true
  vol_12w: true
  
  # 成交额指标
  amt_chg: true
  
  # 均线指标
  ma_20: true
  ma_60: true
  ma_120: true

# 硬核指标配置（12个）
advanced_features:
  # 价格排名
  price_rank_20d: false
  price_rank_60d: false
  
  # 趋势强度
  trend_strength: false
  
  # 波动率比率
  vol_ratio: false
  
  # 极端波动
  extreme_vol_count: false
  
  # 成交额趋势
  amt_trend_20d: false
  
  # 量价相关性
  price_volume_corr: false
  
  # 最大回撤
  max_dd_20d: false
  
  # 回撤频率
  drawdown_count: false
  
  # ATR
  atr: false
  
  # 市场宽度（需要新浪API）
  advance_decline_ratio: false
  market_breadth: false

# 规则参数
rule_params:
  # 均线周期
  ma_short: 20
  ma_medium: 60
  ma_long: 120
  
  # 波动率窗口
  vol_window: 4
  vol_median_window: 60

# LightGBM参数（如果使用）
lgbm_params:
  objective: 'multiclass'
  num_class: 3
  num_leaves: 16
  max_depth: 4
  learning_rate: 0.05
  n_estimators: 200
  subsample: 0.8
  colsample_bytree: 0.8
  reg_alpha: 1.0
  reg_lambda: 1.0

# HMM参数（如果使用）
hmm_params:
  n_components: 3
  covariance_type: "full"
  n_iter: 1000